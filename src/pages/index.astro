---
import Layout from '../layouts/Layout.astro';
import Home from './[lang]/home.astro';

import '../styles/global.css';

// i18n Settings  //
import { getDefaultLang } from '../i18n/utils/i18n';

const url = new URL(Astro.url);
const path = url.pathname.split('/');
let lang = path[1];

if (!lang || lang.length !== 2) {
  lang = getDefaultLang(); // 'en' por defecto
}

const defaultLang = getDefaultLang();
return Astro.redirect(`/${defaultLang}/home`);
---

<Layout>
  <Home lang={lang} />
</Layout>