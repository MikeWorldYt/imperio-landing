---
import Header from '../../components/layout/Header.astro';
import Layout from '../../layouts/Layout.astro';
import '../../styles/global.css';

// Gallery grid //
import GalleryGrid from '../../components/ui/galleryGrid';
import { getAllMedia } from "../../lib/media";
const media = await getAllMedia();

// i18n Settings  //
import { useLang } from '../../hooks/useLang';
import { useLangPageTexts } from '../../hooks/useLangPageText';
import { useTranslations } from '../../hooks/useTranslations';
import { getStaticPaths } from '../../i18n/utils/i18n';
import { galleryTexts as enGalleryTexts } from '../../i18n/en/gallery';
import { galleryTexts as esGalleryTexts } from '../../i18n/es/gallery';
import type { LangTypes } from '../../i18n/utils/types';

export { getStaticPaths };

const galleryTextsByLang = {
    en: enGalleryTexts,
    es: esGalleryTexts,
};

// @ts-ignore
const texts = useLangPageTexts<LangTypes>(Astro, galleryTextsByLang);
// @ts-ignore
const lang = useLang(Astro);
const t = useTranslations(texts);
---

<Layout lang="{lang}">
    <head>
        <title>{t('title')}</title>
    </head>
    <Header lang={lang} />
    <section class="pt-20 px-4 text-center">
        <h1 class="text-4xl font-bold tracking-tight mb-2">
            {t('title')}
        </h1>
        <p
            class="text-lg text-muted-foreground max-w-xl mx-auto mb-8"
            set:html={t('description')}
        />
        <GalleryGrid images={media} client:load/>
    </section>
</Layout>